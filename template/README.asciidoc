= AsciiDoc Template with Conditional Rendering
:toc: right
:toclevels: 5
:sectnums:
:sectnumlevels: 5
:flag-doc: true
:localdir: ./
:imagesdir: ./images/
:data-uri:


== Introduction

Here is the logic diagram for conditional rendering:

image::asciidoc-logic.png[]

== Conditional Rendering Flags

In this template, the following AsciiDoc attributes are used for conditional rendering:

- `:flag-doc:` - Set to true in the main document.
- `:flag-doc-section:` - Set to true in sections.
- `:flag-doc-section-sub:` - Set to true in subsections.

These flags control path settings and content inclusion based on the document hierarchy.

== Filesystem Structure

.Project layout
[listing]
----
template/
├── README.asciidoc
├── images/
│   └── asciidoc-logic.plantuml
└── section1/
    ├── README.adoc
    ├── images/
    │   └── section1-diagram.plantuml
    ├── subsection1/
    │   ├── README.adoc
    │   └── images/
    │       └── subsection1-diagram.plantuml
    └── subsection2/
        ├── README.adoc
        └── images/
            └── subsection2-diagram.plantuml
└── section2/
    ├── README.adoc
    ├── images/
    │   └── section2-diagram.plantuml
    ├── subsection1/
    │   ├── README.adoc
    │   └── images/
    │       └── subsection1-diagram.plantuml
    └── subsection2/
        ├── README.adoc
        └── images/
            └── subsection2-diagram.plantuml
----

== Automated Testing

The helper script `README-tester.sh` runs every README (main document, sections, and subsections) through both Asciidoctor HTML and PDF builds using a containerized toolchain. The script now supports multiple container runtimes and will:

- Detect all README files automatically, so new sections are tested without manual updates.
- Fail fast if any render emits warnings or exits with a non-zero status.
- Work with Podman by default, fall back to Docker when Podman is unavailable, or respect a user-specified runtime.

Typical usage examples:

.Default behavior (auto-select Podman or Docker)
[source,BASH]
----
./README-tester.sh
----

.Force a specific runtime
[source,BASH]
----
./README-tester.sh --runtime docker
----

.Run Podman through flatpak-spawn on the host
[source,BASH]
----
README_TESTER_RUNTIME_CMD="flatpak-spawn --host podman" ./README-tester.sh
----

Environment overrides documented via `./README-tester.sh --help` let you change the container image or set a custom runtime command for more complex shells.

include::section1/README.adoc[leveloffset=+1]

include::section2/README.adoc[leveloffset=+1]